(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo.e889e45f.svg"},22:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),s=a.n(r),i=(a(27),a(1)),c=a(2),l=o.a.createContext(),u=o.a.createContext(),p=a(9),m=a(11),_=a(12),f=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(m.a)(this,e),this._url=a,this._headers=n}return Object(_.a)(e,[{key:"_postUserInfo",value:function(e,t){var a=t.email,n=t.password;return fetch("".concat(this._url,"/").concat(e),{method:"POST",headers:Object(p.a)({},this._headers),body:JSON.stringify({email:a,password:n})})}},{key:"_getUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{headers:Object(p.a)(Object(p.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})})}},{key:"_handleBaseResponse",value:function(e,t){return e.then((function(e){return e.ok?e.json():Promise.reject(e)})).then(t)}},{key:"registerUser",value:function(e,t){return this._handleBaseResponse(this._postUserInfo("signup",e),t)}},{key:"authorizeUser",value:function(e,t){return this._handleBaseResponse(this._postUserInfo("signin",e),t)}},{key:"checkToken",value:function(e){return this._handleBaseResponse(this._getUserInfo(localStorage.getItem("jwt")),e)}}]),e}())({baseUrl:"https://auth.nomoreparties.co",headers:{"Content-Type":"application/json"}}),d=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(m.a)(this,e),this._url=a,this._headers=n}return Object(_.a)(e,[{key:"_getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers})}},{key:"_getCardList",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers})}},{key:"_patchUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})})}},{key:"_postNewCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})})}},{key:"_deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"_toggleLikeCard",value:function(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t,headers:this._headers})}},{key:"_patchUserpic",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}},{key:"_handleBaseResponse",value:function(e,t){return e.then((function(e){return e.ok?e.json():Promise.reject("".concat(e.status," ").concat(e.statusText))})).then(t)}},{key:"getUserInfo",value:function(e){return this._handleBaseResponse(this._getUserInfo(),e)}},{key:"getCardList",value:function(e){return this._handleBaseResponse(this._getCardList(),e)}},{key:"setUserInfo",value:function(e,t){return this._handleBaseResponse(this._patchUserInfo(e),t)}},{key:"addCard",value:function(e,t){return this._handleBaseResponse(this._postNewCard(e),t)}},{key:"removeCard",value:function(e,t){return this._handleBaseResponse(this._deleteCard(e),t)}},{key:"toggleLikeCard",value:function(e,t,a){return this._handleBaseResponse(this._toggleLikeCard(e,t),a)}},{key:"setUserpic",value:function(e,t){return this._handleBaseResponse(this._patchUserpic(e),t)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-13",headers:{authorization:"2209a41b-072f-4997-82e0-004301b435a4","Content-Type":"application/json"}}),h=a(21);var g=function(e){var t=e.loggedIn,a=e.component,n=Object(h.a)(e,["loggedIn","component"]);return o.a.createElement(c.b,null,t?o.a.createElement(a,n):o.a.createElement(c.a,{to:"/sign-in"}))},b=a(20),v=a.n(b);var E=function(e){var t=e.pageType,a=e.onRedirectButton,n=e.userLogin,r=void 0===n?null:n,s={home:"\u0412\u044b\u0439\u0442\u0438",login:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",register:"\u0412\u043e\u0439\u0442\u0438"}[t];return o.a.createElement("header",{className:"page__section header"},o.a.createElement("img",{src:v.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430",className:"header__image"}),o.a.createElement("button",{type:"button",className:"header__button",onClick:a},s),r&&o.a.createElement("span",{className:"header__login"},r))};var y=function(e){var t=e.children;return o.a.createElement("main",{className:"page__section content"},t)},C=a(8);var N=function(e){var t=e.pageType,a=e.onSubmit,n=o.a.useContext(l),r=o.a.useState(""),s=Object(i.a)(r,2),c=s[0],u=s[1],p=o.a.useState(""),m=Object(i.a)(p,2),_=m[0],f=m[1];o.a.useEffect((function(){u(n.email),f(n.password)}),[n]);var d={login:{legend:"\u0412\u0445\u043e\u0434",buttonText:"\u0412\u043e\u0439\u0442\u0438",linkTo:"/sign-up",linkText:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},register:{legend:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",linkTo:"/sign-in",linkText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"}}[t],h=d.legend,g=d.buttonText,b=d.linkTo,v=d.linkText,E={className:"form__input form__input_theme_dark",required:!0};return o.a.createElement("section",{className:"sign"},o.a.createElement("form",{action:"#",className:"sign__item form form_theme_dark",name:t,onSubmit:function(e){e.preventDefault(),a({email:c,password:_})},noValidate:!0},o.a.createElement("fieldset",{className:"form__fieldset"},o.a.createElement("legend",{className:"form__legend form__legend_align_center"},h),o.a.createElement("label",{htmlFor:"inputUserEmail",className:"form__label"},o.a.createElement("input",Object.assign({type:"email",id:"inputUserEmail",name:"userEmail",placeholder:"Email",value:c,onChange:function(e){u(e.target.value)}},E))),o.a.createElement("label",{htmlFor:"inputUserPassword",className:"form__label"},o.a.createElement("input",Object.assign({type:"password",id:"inputUserPassword",name:"userPassword",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:_,onChange:function(e){f(e.target.value)}},E)))),o.a.createElement("button",{type:"submit",className:"form__button"},g)),o.a.createElement(C.b,{to:b,className:"sign__item sign__item_type_link"},v))};var k=function(e){var t=e.popupAdditionalClassName,a=e.popupItemSizeClassName,n=e.popupCloseButtonPositionClassName,r=void 0===n?"popup__button_position_top-right":n,s=e.onClose,i=e.children;return o.a.createElement("div",{className:"popup ".concat(t),onClick:s,onKeyDown:function(e){"Escape"===e.key&&s()},tabIndex:"-1"},o.a.createElement("div",{className:"popup__item ".concat(a),onClick:function(e){e.stopPropagation()}},i,o.a.createElement("button",{type:"button",className:"popup__button ".concat(r),onClick:s})))};var j=function(e){var t=e.pageType,a=e.isSuccessful,n=e.isOpen,r=e.onClose,s=a?"tooltip__image_type_success":"tooltip__image_type_failure",i={login:{true:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",false:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."},register:{true:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",false:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."}}[t][a],c=o.a.createElement("div",{className:"tooltip"},o.a.createElement("div",{className:"tooltip__image ".concat(s)}),o.a.createElement("p",{className:"tooltip__text"},i)),l=["popup_background-transparency_semi","popup_opened"];return o.a.createElement(k,{popupAdditionalClassName:n?l.join(" "):l[0],popupItemSizeClassName:"popup__item_size-for_tooltip",popupCloseButtonPositionClassName:"popup__button_position_top-center",onClose:r,children:c})};var O=function(e){var t=e.pageType,a=e.onRedirectButton,n=e.onSubmit,r=e.tooltipTypeFailureProps,s=e.tooltipTypeSuccessProps,i=o.a.createElement(N,{pageType:t,onSubmit:n});return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{pageType:t,onRedirectButton:a}),o.a.createElement(y,{children:i}),o.a.createElement(j,Object.assign({pageType:t,isSuccessful:!1},r)),o.a.createElement(j,Object.assign({pageType:t,isSuccessful:!0},s)))};var S=function(e){var t=e.onImage,a=e.onEditButton,n=e.onAddButton,r=o.a.useContext(u),s=r.avatar,i=r.name,c=r.about;return o.a.createElement("section",{className:"profile"},o.a.createElement("figure",{className:"profile__figure",onClick:t},o.a.createElement("img",{src:s,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 - \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"profile__image"})),o.a.createElement("div",{className:"profile__control"},o.a.createElement("h1",{className:"profile__text profile__text_type_name"},i),o.a.createElement("button",{type:"button",className:"profile__button profile__button_type_edit",onClick:a})),o.a.createElement("p",{className:"profile__text profile__text_type_about"},c),o.a.createElement("button",{type:"button",className:"profile__button profile__button_type_add",onClick:n}))};var U=function(e){var t=e.item,a=e.onImage,n=e.onLikeButton,r=e.onRemoveButton,s=o.a.useContext(u)._id,i=t.link,c=t.likes,l=t.name,p=t.owner,m=t._id,_=s===p._id,f=c.some((function(e){return e._id===s})),d=["card__button-like","card__button-like_active"];return o.a.createElement("li",{className:"gallery__item card"},o.a.createElement("img",{src:i,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435: ".concat(l),className:"card__image",onClick:function(){a(t)}}),o.a.createElement("h2",{className:"card__heading"},l),o.a.createElement("button",{type:"button",className:f?d.join(" "):d[0],onClick:function(){n(t,s)}}),o.a.createElement("span",{className:"card__counter"},c.length),_&&o.a.createElement("button",{type:"button",className:"card__button-remove",onClick:function(){r(m)}}))};var I=function(e){var t=e.component,a=e.items,n=e.itemProps;return o.a.createElement("section",{className:"gallery"},o.a.createElement("ul",{className:"gallery__items"},a.map((function(e,a){return o.a.createElement(t,Object.assign({key:a,item:e},n))}))))};var P=function(){return o.a.createElement("footer",{className:"page__section footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))};var T=function(e){var t=e.isOpen,a=e.onClose,n=e.onSubmit,r=e.isValid,s=void 0===r||r,i=e.legend,c=e.children,l=e.popupItemSizeClassName,u=["form__button","form__button_theme_light","form__button_disabled"],p={true:{className:u.slice(0,2).join(" ")},false:{className:u.join(" "),disabled:!0}}[s],m=o.a.createElement("form",{action:"#",className:"form form_theme_light",onSubmit:n,noValidate:!0},o.a.createElement("fieldset",{className:"form__fieldset"},o.a.createElement("legend",{className:"form__legend"},i),c),o.a.createElement("button",Object.assign({type:"submit"},p),"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),_=["popup_background-transparency_semi","popup_opened"];return o.a.createElement(k,{popupAdditionalClassName:t?_.join(" "):_[0],popupItemSizeClassName:l,onClose:a,children:m})};var B=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdate,r=o.a.useContext(u),s=o.a.useState(""),c=Object(i.a)(s,2),l=c[0],p=c[1],m=o.a.useState(""),_=Object(i.a)(m,2),f=_[0],d=_[1],h=o.a.useState(!1),g=Object(i.a)(h,2),b=g[0],v=g[1],E=o.a.useState(!1),y=Object(i.a)(E,2),C=y[0],N=y[1],k=o.a.useState(""),j=Object(i.a)(k,2),O=j[0],S=j[1],U=o.a.useState(""),I=Object(i.a)(U,2),P=I[0],B=I[1];o.a.useEffect((function(){p(r.name),d(r.about),v(!0),S(""),N(!0),B("")}),[r,t]);var x=["form__input","form__input_theme_light","form__input_invalid"],w={type:"text",minLength:2,required:!0},R=o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"inputUserName",className:"form__label"},o.a.createElement("input",Object.assign({id:"inputUserName",className:b?x.slice(0,2).join(" "):x.join(" "),maxLength:"40",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f\u0451\u0401 -]+",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:l,onChange:function(e){var t=e.target,a=t.value,n=t.validity,o=t.validationMessage;p(a),v(n.valid),S(o)}},w)),o.a.createElement("span",{className:"form__error"},O)),o.a.createElement("label",{htmlFor:"inputUserAbout",className:"form__label"},o.a.createElement("input",Object.assign({id:"inputUserAbout",className:C?x.slice(0,2).join(" "):x.join(" "),maxLength:"200",placeholder:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435",value:f,onChange:function(e){var t=e.target,a=t.value,n=t.validity,o=t.validationMessage;d(a),N(n.valid),B(o)}},w)),o.a.createElement("span",{className:"form__error"},P)));return o.a.createElement(T,{isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:l,about:f}),a()},isValid:b&&C,legend:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",children:R,popupItemSizeClassName:"popup__item_size-for_large-form"})};var x=function(e){var t=e.isOpen,a=e.onClose,n=e.onAdd,r=o.a.useRef(),s=o.a.useRef();o.a.useEffect((function(){r.current.value="",s.current.value=""}),[t]);var i={className:"form__input form__input_theme_light",required:!0},c=o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"inputCardName",className:"form__label"},o.a.createElement("input",Object.assign({type:"text",id:"inputCardName",minLength:"1",maxLength:"30",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f\u0451\u0401 -]+",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430",ref:r},i)),o.a.createElement("span",{className:"form__error"})),o.a.createElement("label",{htmlFor:"inputCardAbout",className:"form__label"},o.a.createElement("input",Object.assign({type:"url",id:"inputCardAbout",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",ref:s},i)),o.a.createElement("span",{className:"form__error"})));return o.a.createElement(T,{isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:r.current.value,link:s.current.value}),a()},legend:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",children:c,popupItemSizeClassName:"popup__item_size-for_large-form"})};var w=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdate,r=o.a.useRef();o.a.useEffect((function(){r.current.value=""}),[t]);var s=o.a.createElement("label",{htmlFor:"inputUserpicLink",className:"form__label"},o.a.createElement("input",{type:"url",id:"inputUserpicLink",className:"form__input form__input_theme_light",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",ref:r,required:!0}));return o.a.createElement(T,{isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n(r.current.value),a()},legend:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",children:s,popupItemSizeClassName:"popup__item_size-for_small-form"})};var R=function(e){var t=e.item,a=e.onClose,n=!!t,r=n?Object(p.a)({},t):{link:"#",name:"#"},s=r.link,i=r.name,c=o.a.createElement("figure",{className:"figure"},o.a.createElement("img",{src:s,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435: ".concat(i),className:"figure__image"}),o.a.createElement("figcaption",{className:"figure__caption"},i)),l=["popup_background-transparency_slightly","popup_opened"];return o.a.createElement(k,{popupAdditionalClassName:n?l.join(" "):l[0],popupItemSizeClassName:"popup__item_size-for_figure",onClose:a,children:c})};var L=function(e){var t=e.headerProps,a=e.profileProps,n=e.galleryProps,r=e.popupUserInfoProps,s=e.popupCardInfoProps,i=e.popupUserpicProps,c=e.popupPictureProps,l=o.a.createElement(o.a.Fragment,null,o.a.createElement(S,a),o.a.createElement(I,Object.assign({component:U},n)));return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,t),o.a.createElement(y,{children:l}),o.a.createElement(P,null),o.a.createElement(B,r),o.a.createElement(x,s),o.a.createElement(w,i),o.a.createElement(R,c))};var z=function(){var e=Object(c.g)(),t=o.a.useState(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=o.a.useState({email:"",password:""}),p=Object(i.a)(s,2),m=p[0],_=p[1],h=o.a.useState(null),b=Object(i.a)(h,2),v=b[0],E=b[1],y=o.a.useState(!1),C=Object(i.a)(y,2),N=C[0],k=C[1],j=o.a.useState(!1),S=Object(i.a)(j,2),U=S[0],I=S[1],P=o.a.useState({}),T=Object(i.a)(P,2),B=T[0],x=T[1],w=o.a.useState([]),R=Object(i.a)(w,2),z=R[0],A=R[1],F=o.a.useState(null),D=Object(i.a)(F,2),J=D[0],q=D[1],M=o.a.useState(!1),V=Object(i.a)(M,2),H=V[0],W=V[1],Z=o.a.useState(!1),K=Object(i.a)(Z,2),$=K[0],G=K[1],Q=o.a.useState(!1),X=Object(i.a)(Q,2),Y=X[0],ee=X[1],te=function(){k(!1),I(!1),W(!1),G(!1),ee(!1),q(null)},ae=function(e,t){console.error("BaseApi.".concat(e," response status: ").concat(t))},ne=function(e,t){k(!0),console.error(e[t]||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},oe={isOpen:N,onClose:te},re={pageType:"login",onRedirectButton:function(){e.push("/sign-up")},onSubmit:function(e){f.authorizeUser(e,(function(e){var t=e.token;localStorage.setItem("jwt",t),I(!0)})).catch((function(e){ne({400:"\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439",401:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"},e.status)}))},tooltipTypeFailureProps:oe,tooltipTypeSuccessProps:{isOpen:U,onClose:function(){te(),r(!0)}}},se={pageType:"register",onRedirectButton:function(){e.push("/sign-in")},onSubmit:function(e){f.registerUser(e,(function(){_(e),I(!0)})).catch((function(e){ne({400:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"},e.status)}))},tooltipTypeFailureProps:oe,tooltipTypeSuccessProps:{isOpen:U,onClose:function(){te(),e.push("/sign-in")}}},ie={headerProps:{pageType:"home",onRedirectButton:function(){r(!1),E(null),localStorage.removeItem("jwt"),e.push("/sign-in")},userLogin:v},profileProps:{onImage:function(){W(!0)},onEditButton:function(){G(!0)},onAddButton:function(){ee(!0)}},galleryProps:{items:z,itemProps:{onImage:function(e){q(e)},onLikeButton:function(e,t){var a=e.likes,n=e._id,o=a.some((function(e){return e._id===t}))?"DELETE":"PUT";d.toggleLikeCard(n,o,(function(e){var t=z.map((function(t){return t._id===e._id?e:t}));A(t)})).catch((function(e){ae("toggleLikeCard",e)}))},onRemoveButton:function(e){d.removeCard(e,(function(){A(z.filter((function(t){return t._id!==e})))})).catch((function(e){ae("removeCard",e)}))}}},popupUserInfoProps:{isOpen:$,onClose:te,onUpdate:function(e){d.setUserInfo(e,x).catch((function(e){ae("setUserInfo",e)}))}},popupCardInfoProps:{isOpen:Y,onClose:te,onAdd:function(e){d.addCard(e,(function(e){A(z.concat(e))})).catch((function(e){ae("addCard",e)}))}},popupUserpicProps:{isOpen:H,onClose:te,onUpdate:function(e){d.setUserpic(e,x).catch((function(e){ae("setUserpic",e)}))}},popupPictureProps:{item:J,onClose:te}};return o.a.useEffect((function(){f.checkToken((function(t){var a=t.data;d.getUserInfo(x).catch((function(e){ae("getUserInfo",e)})),d.getCardList(A).catch((function(e){ae("getCardList",e)})),E(a.email),r(!0),e.push("/")})).catch((function(e){e.json().then((function(e){console.error(e.message)})).catch((function(){console.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}))}))}),[n,e]),o.a.createElement(l.Provider,{value:m},o.a.createElement(u.Provider,{value:B},o.a.createElement(c.d,null,o.a.createElement(c.b,{exact:!0,path:"/sign-in"},o.a.createElement(O,re)),o.a.createElement(c.b,{exact:!0,path:"/sign-up"},o.a.createElement(O,se)),o.a.createElement(g,Object.assign({exact:!0,path:"/",loggedIn:n,component:L},ie)),o.a.createElement(g,{path:"*",loggedIn:!1}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C.a,null,o.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.8bb0f837.chunk.js.map